# Database
# For local: postgresql://username:password@localhost:5432/copy_trader_db?schema=public
# For production (Vercel Postgres/Neon): Use connection pooling URL
DATABASE_URL="postgresql://username:password@localhost:5432/copy_trader_db?schema=public"
# Direct connection URL (required for migrations on some providers)
DIRECT_URL="postgresql://username:password@localhost:5432/copy_trader_db?schema=public"

# NextAuth
# For production, set to your actual domain: https://your-app.vercel.app
NEXTAUTH_URL="http://localhost:3000"
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# Wallet Connect
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID="your-walletconnect-project-id"

# Polygon RPC (use Alchemy, Infura, or QuickNode for production)
POLYGON_RPC_URL="https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY"
NEXT_PUBLIC_POLYGON_RPC_URL="https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY"
POLYGON_CHAIN_ID="137"

# SendGrid
SENDGRID_API_KEY="your-sendgrid-api-key"
SENDGRID_FROM_EMAIL="noreply@yourapp.com"

# Polymarket
POLYMARKET_WS_URL="wss://real-time-data.polymarket.com"
POLYMARKET_API_URL="https://clob.polymarket.com"

# Smart Contracts (Polygon Mainnet) - PRODUCTION
# Security Contracts (Deployed)
POLYMARKET_TRADE_GUARD="0x134291aF031d151831b81C742C675D9047bBE8A8"
USER_WITHDRAWAL_MODULE="0x9C4d41503aCbF6433f7D73a1507FDF8845Be4e49"

# Polymarket Contracts
CTF_EXCHANGE="0x4bFb41d5B3570DeFd03C39a9A4D8dE6Bd8B8982E"
NEG_RISK_EXCHANGE="0xC5d563A36AE78145C45a50134d48A1215220f80a"
CONDITIONAL_TOKENS="0x4D97DCd97eC945f40cF65F87097ACe5EA0476045"
# USDC.e (Bridged USDC - Used by Polymarket)
USDC_ADDRESS="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"

# Master Operator Key - SignatureType 2 Architecture
# ⚠️ ULTRA CRITICAL: This key is used to derive ALL operator wallets
# Store in secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.)
# Generate with: node -e "console.log('0x' + require('crypto').randomBytes(32).toString('hex'))"
# Operator private keys are derived as: keccak256(MASTER_OPERATOR_PRIVATE_KEY + userEOA)
MASTER_OPERATOR_PRIVATE_KEY="0x..."

# Polymarket Builder API (for gasless Safe deployment)
# Sign up at: https://builder.polymarket.com
BUILDER_API_KEY="your-builder-api-key"
BUILDER_SECRET="your-builder-secret"
BUILDER_PASS_PHRASE="your-builder-passphrase"
RELAYER_URL="https://relayer-v2.polymarket.com/"

# Application Settings
NEXT_PUBLIC_APP_NAME="Polymarket Copy Trader"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Feature Flags
ENABLE_EMAIL_NOTIFICATIONS="true"

# Execution Mode - CRITICAL SETTING
# Set to 'true' for LIVE TRADING with real blockchain transactions
# Set to 'false' for MOCK MODE (simulated trades for testing)
#
# Requirements for LIVE mode:
#   1. Safe must be deployed for each user
#   2. TradeModule must be enabled on Safe
#   3. Safe must have Native USDC balance (0x3c499c...)
#   4. Operator wallet must have POL for gas
#   5. OPERATOR_PRIVATE_KEY must be configured
USE_REAL_EXECUTION="false"

# Transaction Monitor
# Auto-start transaction monitor in production
AUTO_START_MONITOR="true"

# Simulation Settings
WEBSOCKET_LOG_LEVEL="info"          # debug | info | warn | error
ORCHESTRATOR_LOG_LEVEL="info"       # debug | info | warn | error
MOCK_TRADE_SUCCESS_RATE="0.98"      # 0.0 - 1.0 (success rate for simulated trades)
